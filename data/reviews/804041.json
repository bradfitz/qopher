{
	"description": "Enable goinstall to be able to install external library wrappers that use\ncgo.\n\nThis change consists of two changes. First, when parsing package\ndependencies, the virtual \"C\" package is ignored as it doesn't exist as a\nphysical file but is rather an indicator for cgo. Second, an autogenerated\nMakefile is only used if no existing Makefile has been found. This behaviour\ndidn't work out for external packages that use custom Makefiles with calls\nto cgo.",
	"cc": [
		"golang-dev@googlegroups.com"
	],
	"reviewers": [],
	"messages": [
		{
			"sender": "akrennmair@googlemail.com",
			"recipients": [
				"akrennmair@googlemail.com",
				"golang-dev@googlegroups.com",
				"golang-dev@googlegroups.com",
				"reply@codereview.appspotmail.com"
			],
			"text": "Hello golang-dev@googlegroups.com (cc: golang-dev@googlegroups.com),\n\nI'd like you to review this change.",
			"disapproval": false,
			"date": "2010-03-27 14:18:18.675888",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"reply@codereview.appspotmail.com"
			],
			"text": "Instead of ignoring C, why not remember that this is a cgo file\nand add it to the cgo list in the generated makefile?\n\nI'd like to keep goinstall from depending on makefiles,\nand I'd also like to avoid them entirely for downloaded\ncode for as long as possible, because it makes it easier\nto use packages that people didn't plan for use with\ngoinstall.\n\nRuss\n",
			"disapproval": false,
			"date": "2010-03-28 04:54:33.864238",
			"approval": false
		},
		{
			"sender": "rsc@google.com",
			"recipients": [
				"akrennmair@googlemail.com",
				"golang-dev@googlegroups.com",
				"reply@codereview.appspotmail.com"
			],
			"text": "",
			"disapproval": false,
			"date": "2010-04-13 23:24:38.191424",
			"approval": false
		},
		{
			"sender": "akrennmair@googlemail.com",
			"recipients": [
				"akrennmair@googlemail.com",
				"golang-dev@googlegroups.com",
				"reply@codereview.appspotmail.com"
			],
			"text": "Sorry for the late answer, I've been on vacation for the last 2 weeks and didn't have the time to answer.\n\nOn 2010/03/28 04:54:33, rsc wrote:\n> Instead of ignoring C, why not remember that this is a cgo file\n> and add it to the cgo list in the generated makefile?\n\nThat wouldn't work in cases where the source files form a wrapper around an existing C library. The information which additional libraries need to be linked would not be available, and cgo obviously cannot magically determine that information out of nowhere.\n\n> I'd like to keep goinstall from depending on makefiles,\n> and I'd also like to avoid them entirely for downloaded\n> code for as long as possible, because it makes it easier\n> to use packages that people didn't plan for use with\n> goinstall.\n\nI'm skeptical whether this approach would work correctly in most cases. That approach would fail as soon as a programmer decides to organize the directory structure, files (including the file naming conventions) and the Makefile in a completely different fashion from what's currently recommended in the Go documentation.\n\nRegards,\nAndreas",
			"disapproval": false,
			"date": "2010-04-14 22:31:03.143720",
			"approval": false
		}
	],
	"owner_email": "akrennmair@googlemail.com",
	"private": false,
	"base_url": "",
	"owner": "akrennmair",
	"subject": "code review 804041: Enable goinstall to be able to install external library...",
	"created": "2010-03-27 14:13:01.605057",
	"patchsets": [
		1,
		2001
	],
	"modified": "2010-04-14 22:31:03.267530",
	"closed": false,
	"issue": 804041
}