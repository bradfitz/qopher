{
	"description": "go.tools/cmd/cover: add HTML output",
	"cc": [
		"r@golang.org",
		"dsymonds@golang.org",
		"golang-dev@googlegroups.com"
	],
	"reviewers": [],
	"messages": [
		{
			"sender": "r@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "https://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go\nFile cmd/cover/cover.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode11\ncmd/cover/cover.go:11: // be mildly confused by single statements with multiple function literals.\nadd more info about display: it also analyses coverage results (david's question)\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode59\ncmd/cover/cover.go:59: fmt.Fprintln(os.Stderr, \"error: you must specify -profile with -html\")\ns/error/cover/ in these messages\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode63\ncmd/cover/cover.go:63: err := htmlOutput(*inProfile, *output)\ncheck that -var is not set\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode23\ncmd/cover/html.go:23: // htmlOutput reads the profile data from profile, and generates an HTML\ns/,//\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode200\ncmd/cover/html.go:200: color := \"#CFC\"\nwouldn't mind a comment: red? green? peachpuff?\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode225\ncmd/cover/html.go:225: // startBrowser tries to open the URL in a browser, and returns\ns/,//",
			"disapproval": false,
			"date": "2013-06-14 14:39:04.123890",
			"approval": false
		},
		{
			"sender": "adg@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Hello r (cc: golang-dev@googlegroups.com),\n\nI'd like you to review this change to\nhttps://code.google.com/p/go.tools",
			"disapproval": false,
			"date": "2013-06-14 08:44:02.328520",
			"approval": false
		},
		{
			"sender": "adg@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On 2013/06/14 08:52:27, dsymonds wrote:\n> There's going to be lots of different output forms desired. Perhaps this should\n> be a distinct tool that only consumes cover's output instead of being built in?\n> That would also help keep us honest with what cover produces.\n\nNo need for honesty here; the coverage profiles are generated by the go tool and the testing package. The cover tool just does analysis and file annotations.",
			"disapproval": false,
			"date": "2013-06-14 22:38:31.553380",
			"approval": false
		},
		{
			"sender": "dsymonds@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "There's going to be lots of different output forms desired. Perhaps this should be a distinct tool that only consumes cover's output instead of being built in? That would also help keep us honest with what cover produces.",
			"disapproval": false,
			"date": "2013-06-14 08:52:27.277560",
			"approval": false
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "I'm happy with doing this in cover itself. There are likely to be\r\nanalyses that can use some of the code used when annotating the\r\nsource. Also, it's nice to have to install only one extra tool to make\r\ngo test -cover work.\r\n\r\n-rob\r\n",
			"disapproval": false,
			"date": "2013-06-14 14:33:47.545740",
			"approval": false
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "https://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode199\ncmd/cover/html.go:199: if t.Start {\nsurely it's the count that matters here.",
			"disapproval": false,
			"date": "2013-06-14 18:24:10.588320",
			"approval": false
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "https://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode118\ncmd/cover/html.go:118: Count:     toInt(m[6]),\ncount is 7. field 6 is number of statements.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode199\ncmd/cover/html.go:199: if t.Start {\nOn 2013/06/14 18:24:10, r wrote:\n> surely it's the count that matters here.\n\nnever mind, i see. the bug is elsewhere.",
			"disapproval": false,
			"date": "2013-06-14 18:27:57.604000",
			"approval": false
		},
		{
			"sender": "adg@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "PTAL\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go\nFile cmd/cover/cover.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode11\ncmd/cover/cover.go:11: // be mildly confused by single statements with multiple function literals.\nOn 2013/06/14 14:39:04, r wrote:\n> add more info about display: it also analyses coverage results (david's\n> question)\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode59\ncmd/cover/cover.go:59: fmt.Fprintln(os.Stderr, \"error: you must specify -profile with -html\")\nOn 2013/06/14 14:39:04, r wrote:\n> s/error/cover/ in these messages\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/cover.go#newcode63\ncmd/cover/cover.go:63: err := htmlOutput(*inProfile, *output)\nOn 2013/06/14 14:39:04, r wrote:\n> check that -var is not set\n\nwhy? It's usually the default, \"GoCover\". Should I test that they're not trying to set it to something else?\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode23\ncmd/cover/html.go:23: // htmlOutput reads the profile data from profile, and generates an HTML\nOn 2013/06/14 14:39:04, r wrote:\n> s/,//\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode118\ncmd/cover/html.go:118: Count:     toInt(m[6]),\nOn 2013/06/14 18:27:57, r wrote:\n> count is 7. field 6 is number of statements.\n\nah! I knew there was something weird about the data. Fixed.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode200\ncmd/cover/html.go:200: color := \"#CFC\"\nOn 2013/06/14 14:39:04, r wrote:\n> wouldn't mind a comment: red? green? peachpuff?\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/3001/cmd/cover/html.go#newcode225\ncmd/cover/html.go:225: // startBrowser tries to open the URL in a browser, and returns\nOn 2013/06/14 14:39:04, r wrote:\n> s/,//\n\nDone.",
			"disapproval": false,
			"date": "2013-06-14 22:37:21.438890",
			"approval": false
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "LGTM\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/cover.go\nFile cmd/cover/cover.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/cover.go#newcode66\ncmd/cover/cover.go:66: fmt.Fprintln(os.Stderr, \"cover: you must specify -profile with -html\")\ns/you //\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go#newcode118\ncmd/cover/html.go:118: Count:     toInt(m[7]),\nfor completeness, add a StmtCount or NumStmt to the block and record it here. just to be done. right now that 7 looks like a bug.\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go#newcode226\ncmd/cover/html.go:226: // whether it succeed.\nsmall point but the line fold here is unnecessary.",
			"disapproval": false,
			"date": "2013-06-14 22:44:56.135540",
			"approval": true
		},
		{
			"sender": "adg@golang.org",
			"recipients": [
				"adg@golang.org",
				"r@golang.org",
				"dsymonds@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "*** Submitted as https://code.google.com/p/go/source/detail?r=959016818b05&repo=tools ***\n\ngo.tools/cmd/cover: add HTML output\n\nR=r, dsymonds\nCC=golang-dev\nhttps://codereview.appspot.com/10277043\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/cover.go\nFile cmd/cover/cover.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/cover.go#newcode66\ncmd/cover/cover.go:66: fmt.Fprintln(os.Stderr, \"cover: you must specify -profile with -html\")\nOn 2013/06/14 22:44:56, r wrote:\n> s/you //\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go\nFile cmd/cover/html.go (right):\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go#newcode118\ncmd/cover/html.go:118: Count:     toInt(m[7]),\nOn 2013/06/14 22:44:56, r wrote:\n> for completeness, add a StmtCount or NumStmt to the block and record it here.\n> just to be done. right now that 7 looks like a bug.\n\nDone.\n\nhttps://codereview.appspot.com/10277043/diff/11001/cmd/cover/html.go#newcode226\ncmd/cover/html.go:226: // whether it succeed.\nOn 2013/06/14 22:44:56, r wrote:\n> small point but the line fold here is unnecessary.\n\nit is on my screen, but i folded at \"and\" instead",
			"disapproval": false,
			"date": "2013-06-14 22:53:17.920200",
			"approval": false
		}
	],
	"owner_email": "adg@golang.org",
	"private": false,
	"base_url": "",
	"owner": "adg",
	"subject": "code review 10277043: go.tools/cmd/cover: add HTML output",
	"created": "2013-06-14 08:43:43.271370",
	"patchsets": [
		1,
		3001,
		11001,
		17001
	],
	"modified": "2013-06-14 22:53:20.949270",
	"closed": true,
	"issue": 10277043
}