{
	"description": "runtime: add memory prefetching to GC\n\nbenchmark                              old ns/op    new ns/op    delta\n\ngarbage.BenchmarkParser               4448988000   4370531000   -1.76%\ngarbage.BenchmarkParser-2             4086045000   4023083000   -1.54%\ngarbage.BenchmarkParser-4             3677365000   3667020000   -0.28%\ngarbage.BenchmarkParser-8             3517253000   3543946000   +0.76%\ngarbage.BenchmarkParser-16            3506562000   3512518000   +0.17%\n\ngarbage.BenchmarkTree                  494435529    505784058   +2.30%\ngarbage.BenchmarkTree-2                499652705    502774823   +0.62%\ngarbage.BenchmarkTree-4                468482117    465713352   -0.59%\ngarbage.BenchmarkTree-8                488533235    482287000   -1.28%\ngarbage.BenchmarkTree-16               507835176    500654882   -1.41%\n\ngarbage.BenchmarkTree2                  31453900     28804600   -8.42%\ngarbage.BenchmarkTree2-2                21440600     19065800  -11.08%\ngarbage.BenchmarkTree2-4                10982000     10009100   -8.86%\ngarbage.BenchmarkTree2-8                 7544700      6479800  -14.11%\ngarbage.BenchmarkTree2-16                7049500      6163200  -12.57%\n\ngarbage.BenchmarkParserPause           135815000    125360666   -7.70%\ngarbage.BenchmarkParserPause-2          92691523     84365476   -8.98%\ngarbage.BenchmarkParserPause-4          53392190     46995809  -11.98%\ngarbage.BenchmarkParserPause-8          36059523     30998900  -14.03%\ngarbage.BenchmarkParserPause-16         30174300     27613350   -8.49%\n\ngarbage.BenchmarkTreePause              20969784     22568102   +7.62%\ngarbage.BenchmarkTreePause-2            20215875     20975130   +3.76%\ngarbage.BenchmarkTreePause-4            17240709     17180666   -0.35%\ngarbage.BenchmarkTreePause-8            18196386     18205870   +0.05%\ngarbage.BenchmarkTreePause-16           20621158     20486867   -0.65%\n\ngarbage.BenchmarkTree2Pause            173992142    159995285   -8.04%\ngarbage.BenchmarkTree2Pause-2          131281904    118013714  -10.11%\ngarbage.BenchmarkTree2Pause-4           93484952     85092666   -8.98%\ngarbage.BenchmarkTree2Pause-8           88950523     77340809  -13.05%\ngarbage.BenchmarkTree2Pause-16          86071238     76557952  -11.05%\n\ngarbage.BenchmarkParserLastPause       327247000    288205000  -11.93%\ngarbage.BenchmarkParserLastPause-2     217039000    187336000  -13.69%\ngarbage.BenchmarkParserLastPause-4     119722000    105069000  -12.24%\ngarbage.BenchmarkParserLastPause-8      70806000     64755000   -8.55%\ngarbage.BenchmarkParserLastPause-16     62813000     53486000  -14.85%\n\ngarbage.BenchmarkTreeLastPause          28420000     29735000   +4.63%\ngarbage.BenchmarkTreeLastPause-2        23514000     25427000   +8.14%\ngarbage.BenchmarkTreeLastPause-4        21773000     19548000  -10.22%\ngarbage.BenchmarkTreeLastPause-8        24072000     24046000   -0.11%\ngarbage.BenchmarkTreeLastPause-16       25149000     25291000   +0.56%\n\ngarbage.BenchmarkTree2LastPause        314491000    287988000   -8.43%\ngarbage.BenchmarkTree2LastPause-2      214363000    190616000  -11.08%\ngarbage.BenchmarkTree2LastPause-4      109778000    100052000   -8.86%\ngarbage.BenchmarkTree2LastPause-8       75390000     64753000  -14.11%\ngarbage.BenchmarkTree2LastPause-16      70333000     61484000  -12.58%\n\nFTR, below are result with the empty prefetch function,\nthat is, single RET but no real prefetching.\nIt suggests that inlinable PREFETCH is worth pursuing.\n\nbenchmark                              old ns/op    new ns/op    delta\n\ngarbage.BenchmarkParser               4448988000   4560488000   +2.51%\ngarbage.BenchmarkParser-2             4086045000   4129728000   +1.07%\ngarbage.BenchmarkParser-4             3677365000   3728672000   +1.40%\ngarbage.BenchmarkParser-8             3517253000   3583968000   +1.90%\ngarbage.BenchmarkParser-16            3506562000   3591414000   +2.42%\n\ngarbage.BenchmarkTree                  494435529    499580882   +1.04%\ngarbage.BenchmarkTree-4                468482117    467387294   -0.23%\ngarbage.BenchmarkTree-8                488533235    478311117   -2.09%\ngarbage.BenchmarkTree-2                499652705    499324235   -0.07%\ngarbage.BenchmarkTree-16               507835176    502005705   -1.15%\n\ngarbage.BenchmarkTree2                  31453900     33296800   +5.86%\ngarbage.BenchmarkTree2-2                21440600     22466400   +4.78%\ngarbage.BenchmarkTree2-4                10982000     11402700   +3.83%\ngarbage.BenchmarkTree2-8                 7544700      7476500   -0.90%\ngarbage.BenchmarkTree2-16                7049500      7338200   +4.10%\n\ngarbage.BenchmarkParserPause           135815000    139529142   +2.73%\ngarbage.BenchmarkParserPause-2          92691523     95229190   +2.74%\ngarbage.BenchmarkParserPause-4          53392190     53083476   -0.58%\ngarbage.BenchmarkParserPause-8          36059523     34594800   -4.06%\ngarbage.BenchmarkParserPause-16         30174300     30063300   -0.37%\n\ngarbage.BenchmarkTreePause              20969784     21866920   +4.28%\ngarbage.BenchmarkTreePause-2            20215875     20731125   +2.55%\ngarbage.BenchmarkTreePause-4            17240709     17275837   +0.20%\ngarbage.BenchmarkTreePause-8            18196386     17898777   -1.64%\ngarbage.BenchmarkTreePause-16           20621158     20662772   +0.20%\n\ngarbage.BenchmarkTree2Pause            173992142    184336857   +5.95%\ngarbage.BenchmarkTree2Pause-2          131281904    138005714   +5.12%\ngarbage.BenchmarkTree2Pause-4           93484952     98449238   +5.31%\ngarbage.BenchmarkTree2Pause-8           88950523     89286095   +0.38%\ngarbage.BenchmarkTree2Pause-16          86071238     89568666   +4.06%\n\ngarbage.BenchmarkParserLastPause       327247000    342189000   +4.57%\ngarbage.BenchmarkParserLastPause-2     217039000    217224000   +0.09%\ngarbage.BenchmarkParserLastPause-4     119722000    121327000   +1.34%\ngarbage.BenchmarkParserLastPause-8      70806000     71941000   +1.60%\ngarbage.BenchmarkParserLastPause-16     62813000     60166000   -4.21%\n\ngarbage.BenchmarkTreeLastPause          28420000     27840000   -2.04%\ngarbage.BenchmarkTreeLastPause-2        23514000     27390000  +16.48%\ngarbage.BenchmarkTreeLastPause-4        21773000     21414000   -1.65%\ngarbage.BenchmarkTreeLastPause-8        24072000     21705000   -9.83%\ngarbage.BenchmarkTreeLastPause-16       25149000     23932000   -4.84%\n\ngarbage.BenchmarkTree2LastPause        314491000    332894000   +5.85%\ngarbage.BenchmarkTree2LastPause-2      214363000    224611000   +4.78%\ngarbage.BenchmarkTree2LastPause-4      109778000    113976000   +3.82%\ngarbage.BenchmarkTree2LastPause-8       75390000     67223000  -10.83%\ngarbage.BenchmarkTree2LastPause-16      70333000     73216000   +4.10%",
	"cc": [
		"golang-dev@googlegroups.com",
		"rsc@golang.org"
	],
	"reviewers": [],
	"messages": [
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Hello golang-dev@googlegroups.com,\n\nI'd like you to review this change to\nhttps://dvyukov%40google.com@code.google.com/p/go/",
			"disapproval": false,
			"date": "2012-04-06 20:22:01.462821",
			"approval": false
		},
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"rsc@golang.org",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "*** Submitted as http://code.google.com/p/go/source/detail?r=734071724054 ***\n\nruntime: add memory prefetching to GC\n\nbenchmark                              old ns/op    new ns/op    delta\n\ngarbage.BenchmarkParser               4448988000   4370531000   -1.76%\ngarbage.BenchmarkParser-2             4086045000   4023083000   -1.54%\ngarbage.BenchmarkParser-4             3677365000   3667020000   -0.28%\ngarbage.BenchmarkParser-8             3517253000   3543946000   +0.76%\ngarbage.BenchmarkParser-16            3506562000   3512518000   +0.17%\n\ngarbage.BenchmarkTree                  494435529    505784058   +2.30%\ngarbage.BenchmarkTree-2                499652705    502774823   +0.62%\ngarbage.BenchmarkTree-4                468482117    465713352   -0.59%\ngarbage.BenchmarkTree-8                488533235    482287000   -1.28%\ngarbage.BenchmarkTree-16               507835176    500654882   -1.41%\n\ngarbage.BenchmarkTree2                  31453900     28804600   -8.42%\ngarbage.BenchmarkTree2-2                21440600     19065800  -11.08%\ngarbage.BenchmarkTree2-4                10982000     10009100   -8.86%\ngarbage.BenchmarkTree2-8                 7544700      6479800  -14.11%\ngarbage.BenchmarkTree2-16                7049500      6163200  -12.57%\n\ngarbage.BenchmarkParserPause           135815000    125360666   -7.70%\ngarbage.BenchmarkParserPause-2          92691523     84365476   -8.98%\ngarbage.BenchmarkParserPause-4          53392190     46995809  -11.98%\ngarbage.BenchmarkParserPause-8          36059523     30998900  -14.03%\ngarbage.BenchmarkParserPause-16         30174300     27613350   -8.49%\n\ngarbage.BenchmarkTreePause              20969784     22568102   +7.62%\ngarbage.BenchmarkTreePause-2            20215875     20975130   +3.76%\ngarbage.BenchmarkTreePause-4            17240709     17180666   -0.35%\ngarbage.BenchmarkTreePause-8            18196386     18205870   +0.05%\ngarbage.BenchmarkTreePause-16           20621158     20486867   -0.65%\n\ngarbage.BenchmarkTree2Pause            173992142    159995285   -8.04%\ngarbage.BenchmarkTree2Pause-2          131281904    118013714  -10.11%\ngarbage.BenchmarkTree2Pause-4           93484952     85092666   -8.98%\ngarbage.BenchmarkTree2Pause-8           88950523     77340809  -13.05%\ngarbage.BenchmarkTree2Pause-16          86071238     76557952  -11.05%\n\ngarbage.BenchmarkParserLastPause       327247000    288205000  -11.93%\ngarbage.BenchmarkParserLastPause-2     217039000    187336000  -13.69%\ngarbage.BenchmarkParserLastPause-4     119722000    105069000  -12.24%\ngarbage.BenchmarkParserLastPause-8      70806000     64755000   -8.55%\ngarbage.BenchmarkParserLastPause-16     62813000     53486000  -14.85%\n\ngarbage.BenchmarkTreeLastPause          28420000     29735000   +4.63%\ngarbage.BenchmarkTreeLastPause-2        23514000     25427000   +8.14%\ngarbage.BenchmarkTreeLastPause-4        21773000     19548000  -10.22%\ngarbage.BenchmarkTreeLastPause-8        24072000     24046000   -0.11%\ngarbage.BenchmarkTreeLastPause-16       25149000     25291000   +0.56%\n\ngarbage.BenchmarkTree2LastPause        314491000    287988000   -8.43%\ngarbage.BenchmarkTree2LastPause-2      214363000    190616000  -11.08%\ngarbage.BenchmarkTree2LastPause-4      109778000    100052000   -8.86%\ngarbage.BenchmarkTree2LastPause-8       75390000     64753000  -14.11%\ngarbage.BenchmarkTree2LastPause-16      70333000     61484000  -12.58%\n\nFTR, below are result with the empty prefetch function,\nthat is, single RET but no real prefetching.\nIt suggests that inlinable PREFETCH is worth pursuing.\n\nbenchmark                              old ns/op    new ns/op    delta\n\ngarbage.BenchmarkParser               4448988000   4560488000   +2.51%\ngarbage.BenchmarkParser-2             4086045000   4129728000   +1.07%\ngarbage.BenchmarkParser-4             3677365000   3728672000   +1.40%\ngarbage.BenchmarkParser-8             3517253000   3583968000   +1.90%\ngarbage.BenchmarkParser-16            3506562000   3591414000   +2.42%\n\ngarbage.BenchmarkTree                  494435529    499580882   +1.04%\ngarbage.BenchmarkTree-4                468482117    467387294   -0.23%\ngarbage.BenchmarkTree-8                488533235    478311117   -2.09%\ngarbage.BenchmarkTree-2                499652705    499324235   -0.07%\ngarbage.BenchmarkTree-16               507835176    502005705   -1.15%\n\ngarbage.BenchmarkTree2                  31453900     33296800   +5.86%\ngarbage.BenchmarkTree2-2                21440600     22466400   +4.78%\ngarbage.BenchmarkTree2-4                10982000     11402700   +3.83%\ngarbage.BenchmarkTree2-8                 7544700      7476500   -0.90%\ngarbage.BenchmarkTree2-16                7049500      7338200   +4.10%\n\ngarbage.BenchmarkParserPause           135815000    139529142   +2.73%\ngarbage.BenchmarkParserPause-2          92691523     95229190   +2.74%\ngarbage.BenchmarkParserPause-4          53392190     53083476   -0.58%\ngarbage.BenchmarkParserPause-8          36059523     34594800   -4.06%\ngarbage.BenchmarkParserPause-16         30174300     30063300   -0.37%\n\ngarbage.BenchmarkTreePause              20969784     21866920   +4.28%\ngarbage.BenchmarkTreePause-2            20215875     20731125   +2.55%\ngarbage.BenchmarkTreePause-4            17240709     17275837   +0.20%\ngarbage.BenchmarkTreePause-8            18196386     17898777   -1.64%\ngarbage.BenchmarkTreePause-16           20621158     20662772   +0.20%\n\ngarbage.BenchmarkTree2Pause            173992142    184336857   +5.95%\ngarbage.BenchmarkTree2Pause-2          131281904    138005714   +5.12%\ngarbage.BenchmarkTree2Pause-4           93484952     98449238   +5.31%\ngarbage.BenchmarkTree2Pause-8           88950523     89286095   +0.38%\ngarbage.BenchmarkTree2Pause-16          86071238     89568666   +4.06%\n\ngarbage.BenchmarkParserLastPause       327247000    342189000   +4.57%\ngarbage.BenchmarkParserLastPause-2     217039000    217224000   +0.09%\ngarbage.BenchmarkParserLastPause-4     119722000    121327000   +1.34%\ngarbage.BenchmarkParserLastPause-8      70806000     71941000   +1.60%\ngarbage.BenchmarkParserLastPause-16     62813000     60166000   -4.21%\n\ngarbage.BenchmarkTreeLastPause          28420000     27840000   -2.04%\ngarbage.BenchmarkTreeLastPause-2        23514000     27390000  +16.48%\ngarbage.BenchmarkTreeLastPause-4        21773000     21414000   -1.65%\ngarbage.BenchmarkTreeLastPause-8        24072000     21705000   -9.83%\ngarbage.BenchmarkTreeLastPause-16       25149000     23932000   -4.84%\n\ngarbage.BenchmarkTree2LastPause        314491000    332894000   +5.85%\ngarbage.BenchmarkTree2LastPause-2      214363000    224611000   +4.78%\ngarbage.BenchmarkTree2LastPause-4      109778000    113976000   +3.82%\ngarbage.BenchmarkTree2LastPause-8       75390000     67223000  -10.83%\ngarbage.BenchmarkTree2LastPause-16      70333000     73216000   +4.10%\n\nR=golang-dev, rsc\nCC=golang-dev\nhttp://codereview.appspot.com/5991057",
			"disapproval": false,
			"date": "2012-04-07 13:03:02.289040",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "LGTM\n\nNice!\n",
			"disapproval": false,
			"date": "2012-04-06 20:28:09.620146",
			"approval": true
		}
	],
	"owner_email": "dvyukov@google.com",
	"private": false,
	"base_url": "",
	"owner": "dvyukov",
	"subject": "code review 5991057: runtime: add memory prefetching to GC",
	"created": "2012-04-06 19:40:52.106960",
	"patchsets": [
		1,
		2001,
		4001,
		6002
	],
	"modified": "2012-04-07 13:03:04.287654",
	"closed": true,
	"issue": 5991057
}