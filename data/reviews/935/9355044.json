{
	"description": "go.net/iana: new package\n\nThe package iana provides internet protocol constatnts.\n\nFor now it will contain internet protocol numbers, differenciated\nservices code points, and explicit congestion notification bits\nfor IPv4 type-of-service and IPv6 traffic class fields.\n\nFixes issue 5540.",
	"cc": [
		"golang-dev@googlegroups.com"
	],
	"reviewers": [
		"bradfitz@golang.org",
		"r@golang.org",
		"rsc@golang.org",
		"nigeltao@golang.org"
	],
	"messages": [
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"golang-dev@googlegroups.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Hello golang-dev@googlegroups.com (cc: golang-dev@googlegroups.com),\n\nI'd like you to review this change to\nhttps://code.google.com/p/go.net",
			"disapproval": false,
			"date": "2013-05-12 09:18:44.123760",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"golang-dev@googlegroups.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "ping",
			"disapproval": false,
			"date": "2013-05-23 11:02:46.961960",
			"approval": false
		},
		{
			"sender": "bradfitz@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "LGTM at least\r\n\r\n\r\n\r\nOn Thu, May 23, 2013 at 4:02 AM, <mikioh.mikioh@gmail.com> wrote:\r\n\r\n> ping\r\n>\r\n> https://codereview.appspot.**com/9355044/<https://codereview.appspot.com/9355044/>\r\n>\r\n> --\r\n>\r\n> ---You received this message because you are subscribed to the Google\r\n> Groups \"golang-dev\" group.\r\n> To unsubscribe from this group and stop receiving emails from it, send an\r\n> email to golang-dev+unsubscribe@**googlegroups.com<golang-dev%2Bunsubscribe@googlegroups.com>\r\n> .\r\n> For more options, visit https://groups.google.com/**groups/opt_out<https://groups.google.com/groups/opt_out>\r\n> .\r\n>\r\n>\r\n>\r\n",
			"disapproval": false,
			"date": "2013-05-23 17:22:02.977340",
			"approval": true
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"golang-dev@googlegroups.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "https://codereview.appspot.com/9355044/diff/17001/iana/const.go\nFile iana/const.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/const.go#newcode2\niana/const.go:2: // MACHINE GENERATED BY THE COMMAND ABOVE; DO NOT EDIT\ns/MACHINE GENERATED/GENERATED/ (and in gen.go too obviously)\n\nor if you prefer /MACHINE-GENERATED/\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go\nFile iana/doc.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go#newcode5\niana/doc.go:5: // Package iana provides various internet protocol constants assigned\ns/various//\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go#newcode6\niana/doc.go:6: // by Internet Assigned Numbers Authority (IANA).\ns/by/by the/\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/gen.go\nFile iana/gen.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/gen.go#newcode5\niana/gen.go:5: // +build ignore\ncomment please to explain what this does",
			"disapproval": false,
			"date": "2013-05-23 19:11:26.602050",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"golang-dev@googlegroups.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "PTAL\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/const.go\nFile iana/const.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/const.go#newcode2\niana/const.go:2: // MACHINE GENERATED BY THE COMMAND ABOVE; DO NOT EDIT\nOn 2013/05/23 19:11:26, r wrote:\n> s/MACHINE GENERATED/GENERATED/ (and in gen.go too obviously)\n> \n> or if you prefer /MACHINE-GENERATED/\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go\nFile iana/doc.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go#newcode5\niana/doc.go:5: // Package iana provides various internet protocol constants assigned\nOn 2013/05/23 19:11:26, r wrote:\n> s/various//\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/doc.go#newcode6\niana/doc.go:6: // by Internet Assigned Numbers Authority (IANA).\nOn 2013/05/23 19:11:26, r wrote:\n> s/by/by the/\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/gen.go\nFile iana/gen.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/17001/iana/gen.go#newcode5\niana/gen.go:5: // +build ignore\nOn 2013/05/23 19:11:26, r wrote:\n> comment please to explain what this does\n\nDone.",
			"disapproval": false,
			"date": "2013-05-24 03:24:37.188300",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"golang-dev@googlegroups.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"rsc@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "What is the overall plan for this package? So far there are two different spellings in use for names (ProtocolZzz vs XXX_Zzz). It would be nice to have a coherent plan to avoid the mess we have in package syscall.",
			"disapproval": false,
			"date": "2013-05-24 17:21:16.820420",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "PTAL\r\n\r\nApplied MixedCase style w/ retaining the capitalisation of the acronyms.\r\n",
			"disapproval": false,
			"date": "2013-05-27 11:42:33.376950",
			"approval": false
		},
		{
			"sender": "nigeltao@golang.org",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"rsc@golang.org",
				"nigeltao@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Can you answer rsc's question about \"What is the overall plan for this package\"?\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/doc.go\nFile iana/doc.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/doc.go#newcode5\niana/doc.go:5: // Package iana provides internet protocol constants assigned by the\nMove this doc comment to const.go (via gen.go).\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go\nFile iana/gen.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode7\niana/gen.go:7: // This program generates untyped internet protocol constatns by\nTypo in \"constants\".\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode13\niana/gen.go:13: // As a general rule the name of each constant is preferred to the\nI don't understand this sentence. Can you give some examples? Is this the ISIS / MANET thing?\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode76\niana/gen.go:76: os.Exit(0)\nUnnecessary; delete.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode145\niana/gen.go:145: switch pr.Value {\nThis might be clearer if you switched on pr.Name instead of pr.Value.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode152\niana/gen.go:152: prs[i].Name = \"ISIS\" // just ISIS\nI can see in the code that it's \"ISIS\". Just ISIS as opposed to what?",
			"disapproval": false,
			"date": "2013-05-28 04:43:32.738220",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On Wed, May 29, 2013 at 8:28 PM, Mikio Hara <mikioh.mikioh@gmail.com> wrote:\r\n\r\n> On Sat, May 25, 2013 at 2:21 AM,  <rsc@golang.org> wrote:\r\n>\r\n> > What is the overall plan for this package?\r\n>\r\n> The package will contain common constants for go.net/ipv4, ipv6 and route.\r\n> I now have no plan to add other protocol constants that could be placed in\r\n> each protocol package, also name-constant tables and resolvers.\r\n>\r\n> Does this make sense?\r\n>\r\n\r\nI think I understand what you wrote, but I don't believe the package design\r\nmakes sense. The IANA is in charge of LOTS of numbers (\r\nhttp://www.iana.org/protocols). If this package doesn't have all the\r\nnumbers, then it is not well named. If it does have all the numbers, then I\r\nfear it will become unnavigable, perhaps worse even than syscall. Either\r\nchoice seems like a serious problem.\r\n\r\nI think it might make more sense for now just to paste the numbers into the\r\npackages that need them, as unexported constants. Three packages is not\r\nthat many.\r\n\r\nRuss\r\n",
			"disapproval": false,
			"date": "2013-05-30 15:26:05.598480",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On Sat, May 25, 2013 at 2:21 AM,  <rsc@golang.org> wrote:\r\n\r\n> What is the overall plan for this package?\r\n\r\nThe package will contain common constants for go.net/ipv4, ipv6 and route.\r\nI now have no plan to add other protocol constants that could be placed in\r\neach protocol package, also name-constant tables and resolvers.\r\n\r\nDoes this make sense?\r\n",
			"disapproval": false,
			"date": "2013-05-30 00:28:18.981410",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"rsc@golang.org",
				"nigeltao@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "PTAL\n\n> Can you answer rsc's question about \"What is the overall plan for this package\"?\n\nSure, I misunderstood that he just asked naming convention, thanks.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/doc.go\nFile iana/doc.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/doc.go#newcode5\niana/doc.go:5: // Package iana provides internet protocol constants assigned by the\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> Move this doc comment to const.go (via gen.go).\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go\nFile iana/gen.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode7\niana/gen.go:7: // This program generates untyped internet protocol constatns by\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> Typo in \"constants\".\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode7\niana/gen.go:7: // This program generates untyped internet protocol constatns by\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> Typo in \"constants\".\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode13\niana/gen.go:13: // As a general rule the name of each constant is preferred to the\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> I don't understand this sentence. Can you give some examples? Is this the ISIS /\n> MANET thing?\n\nyup, but it looks not necessary. will drop.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode76\niana/gen.go:76: os.Exit(0)\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> Unnecessary; delete.\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode145\niana/gen.go:145: switch pr.Value {\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> This might be clearer if you switched on pr.Name instead of pr.Value.\n\nDone.\n\nhttps://codereview.appspot.com/9355044/diff/40001/iana/gen.go#newcode152\niana/gen.go:152: prs[i].Name = \"ISIS\" // just ISIS\nOn 2013/05/28 04:43:32, nigeltao wrote:\n> I can see in the code that it's \"ISIS\". Just ISIS as opposed to what?\n\ns/pr.Value/pr.Name/ makes thing clearer, thx.",
			"disapproval": false,
			"date": "2013-05-30 00:50:50.726330",
			"approval": false
		},
		{
			"sender": "nigeltao@golang.org",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"rsc@golang.org",
				"nigeltao@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "LGTM but wait for rsc's approval for the new package.\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/const.go\nFile iana/const.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/const.go#newcode8\niana/const.go:8: // Protocol Numbers, Updated: 2013-02-17\nMove this up above the const:\n\n// Protocol Numbers, Updated: 2013-02-17\nconst (\n        ProtocolIPv4           = 0   // etc\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go\nFile iana/gen.go (right):\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go#newcode7\niana/gen.go:7: // This program generates untyped internet protocol constants by\nDrop the \"untyped\".\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go#newcode10\niana/gen.go:10: // Usage of this program:\n// Usage:\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go#newcode58\niana/gen.go:58: fmt.Fprintln(os.Stderr, fmt.Errorf(\"got HTTP status code %v for %v\", resp.StatusCode, r.url))\nfmt.Fprintf(os.Stderr, \"got HTTP status code %v for %v\\n\", resp.StatusCode, r.url)\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go#newcode139\niana/gen.go:139: s := strings.TrimSpace(pr.Name)\nMove this into the switch:\n\nswitch pr.Name {\ncase \"IPv4\":\n  etc\ncase \"ISIS over IPv4\":\n  etc\ncase \"manet\":\n  etc\ndefault:\n  prs[i].Name = sr.Replace(strings.TrimSpace(pr.Name))\n}\n\nhttps://codereview.appspot.com/9355044/diff/48001/iana/gen.go#newcode145\niana/gen.go:145: // protocol number.\nI don't know the IANA numbers at all, but why isn't 0 ProtocolInternetProtocol or ProtocolIP instead of making 0 ProtocolIPv4 and 4 ProtocolIPv4Encap? Do other libraries make this name change?",
			"disapproval": false,
			"date": "2013-05-30 08:16:06.336520",
			"approval": true
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On Thu, May 30, 2013 at 5:16 PM,  <nigeltao@golang.org> wrote:\r\n\r\n> LGTM but wait for rsc's approval for the new package.\r\n\r\nThanks, addressed your comments and updated the CL.\r\n\r\n> I don't know the IANA numbers at all, but why isn't 0\r\n> ProtocolInternetProtocol or ProtocolIP instead of making 0 ProtocolIPv4\r\n> and 4 ProtocolIPv4Encap? Do other libraries make this name change?\r\n\r\nUsually pass IP(0) and IP-ENCAP(4) to getprotoent but also use\r\nIPPROTO_IP(0) and IPROTO_IPV4(4) or IPPROTO_IPIP(4) for\r\nother functions.\r\n\r\nWhich do you think better?\r\n\r\nProtocolIP = 0\r\nProtocolIPv4 = 4\r\nProtocolIPv6 = 41\r\nsetsockopt(.., ProtocolIP, ...)\r\nsetsockopt(.., ProtocolIPv6, ...)\r\nsetacl(..., ProtocolIP, ProtocolIPv4)  // filter IPv4 over IPv4\r\nsetacl(..., ProtocolIP, ProtocolIPv6)  // filter IPv6 over IPv4\r\n\r\n or\r\n\r\nProtocolIPv4 = 0\r\nProtocolIPv4Encap = 4\r\nProtocolIPv6 = 41\r\nsetsockopt(.., ProtocolIPv4, ...)\r\nsetsockopt(.., ProtocolIPv6, ...)\r\nsetacl(..., ProtocolIPv4, ProtocolIPv4Encap)  // filter IPv4 over IPv4\r\nsetacl(..., ProtocolIPv4, ProtocolIPv6)  // filter IPv6 over IPv4\r\n",
			"disapproval": false,
			"date": "2013-05-30 14:29:10.674900",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On Fri, May 31, 2013 at 12:26 AM, Russ Cox <rsc@golang.org> wrote:\r\n\r\n> I think I understand what you wrote, but I don't believe the package design\r\n> makes sense. The IANA is in charge of LOTS of numbers\r\n> (http://www.iana.org/protocols). If this package doesn't have all the\r\n> numbers, then it is not well named. If it does have all the numbers, then I\r\n> fear it will become unnavigable, perhaps worse even than syscall. Either\r\n> choice seems like a serious problem.\r\n\r\nElsewhere means nowhere except,\r\n\r\n> I think it might make more sense for now just to paste the numbers into the\r\n> packages that need them, as unexported constants. Three packages is not that\r\n> many.\r\n\r\nspecific packages. Will do so, thanks.\r\n",
			"disapproval": false,
			"date": "2013-05-30 20:16:25.012010",
			"approval": false
		},
		{
			"sender": "mikioh.mikioh@gmail.com",
			"recipients": [
				"mikioh.mikioh@gmail.com",
				"bradfitz@golang.org",
				"r@golang.org",
				"rsc@golang.org",
				"nigeltao@golang.org",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "*** Abandoned ***",
			"disapproval": false,
			"date": "2013-05-30 20:17:03.228260",
			"approval": false
		}
	],
	"owner_email": "mikioh.mikioh@gmail.com",
	"private": false,
	"base_url": "",
	"owner": "mikio",
	"subject": "code review 9355044: go.net/iana: new package",
	"created": "2013-05-12 03:36:26.800090",
	"patchsets": [
		17001,
		27001,
		40001,
		48001,
		55001
	],
	"modified": "2013-05-30 20:23:02.438750",
	"closed": true,
	"issue": 9355044
}