{
	"description": "cmd/gc: add go:norace annotation to disable race instrumentation\nThe annotation can be used to:\n1. not instrument some sensitive functions (e.g. that call fork())\n2. temporary ignore known data races\n3. gain additional performance by not instrumenting very hot functions\nNote that there is another similar potentially useful annotation --\nthat does not instrument memory accesses, but instrument func enter/exit.\nIt would allow to achieve (2) and (3) while preserving correct\nstack traces in reports. If/when we add it, the plan is to name it\nalong the lines of go:norace-something (e.g. go:norace-access).\nUpdate issue 4840.",
	"cc": [],
	"reviewers": [
		"golang-dev@googlegroups.com",
		"rsc@golang.org",
		"r@golang.org"
	],
	"messages": [
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "On 2013/06/29 11:56:42, dvyukov wrote:\n> Hello mailto:golang-dev@googlegroups.com,\n> \n> I'd like you to review this change to\n> https://dvyukov%2540google.com%40code.google.com/p/go/\n\nSide-by-side diffs does not work for y.tab.c file -- it shows both partial \"old chunk mismatch\" and when I try to expand the file -- \"An error occurred [500]. Please report\". I've tried re-uploading 7 times. Please use unified diffs. And it's generated by makefile anyway.",
			"disapproval": false,
			"date": "2013-06-29 11:59:47.387910",
			"approval": false
		},
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Hello golang-dev@googlegroups.com,\n\nI'd like you to review this change to\nhttps://dvyukov%40google.com@code.google.com/p/go/",
			"disapproval": false,
			"date": "2013-06-29 11:56:42.888020",
			"approval": false
		},
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "Usage of this new attribute is in https://codereview.appspot.com/10782044",
			"disapproval": false,
			"date": "2013-06-29 12:00:48.351960",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "+r for new annotation\r\n\r\nI think \"norace\" is not a great prefix: it locks you into negative\r\nannotations only. It's also not great to have norace as both an annotation\r\nand a prefix.\r\n\r\nI suggest //gorace:xxx as the general form for these, and //gorace:omit for\r\nthis specific one.\r\n\r\nRuss\r\n",
			"disapproval": false,
			"date": "2013-07-01 21:33:52.949140",
			"approval": false
		},
		{
			"sender": "rsc@golang.org",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"rsc@golang.org",
				"r@golang.org",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "NOT LGTM, at least not yet.\n\nThis is a big thing to commit to, and I'd like to wait until there is a more compelling need.\nSee comments on https://codereview.appspot.com/10782044",
			"disapproval": true,
			"date": "2013-07-11 17:50:58.848730",
			"approval": false
		},
		{
			"sender": "dvyukov@google.com",
			"recipients": [
				"dvyukov@google.com",
				"golang-dev@googlegroups.com",
				"rsc@golang.org",
				"r@golang.org",
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "*** Abandoned ***",
			"disapproval": false,
			"date": "2013-07-16 09:46:14.003030",
			"approval": false
		},
		{
			"sender": "r@golang.org",
			"recipients": [
				"reply@codereview-hr.appspotmail.com"
			],
			"text": "I agree with the dislike of \"norace\". Negative true is just confusing.\r\n",
			"disapproval": false,
			"date": "2013-07-01 23:49:11.060280",
			"approval": false
		}
	],
	"owner_email": "dvyukov@google.com",
	"private": false,
	"base_url": "",
	"owner": "dvyukov",
	"subject": "code review 10783043: cmd/gc: add go:norace annotation to disable race instru...",
	"created": "2013-06-29 11:34:59.152720",
	"patchsets": [
		1,
		3001,
		6001,
		9001,
		12001,
		15001,
		16001
	],
	"modified": "2013-07-16 09:46:16.011330",
	"closed": true,
	"issue": 10783043
}